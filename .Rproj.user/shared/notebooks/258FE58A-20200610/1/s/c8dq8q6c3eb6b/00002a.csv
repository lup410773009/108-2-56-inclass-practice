"0","convert_twDate<-function(twDate){"
"0","  if(!require(stringr)){"
"0","    install.packages(""stringr"")"
"0","  }"
"0","  if(!require(lubridate)){"
"0","    install.packages(""lubridate"")"
"0","  }"
"0","  if(!require(glue)){"
"0","    install.packages(""glue"")"
"0","  }"
"0","  "
"0","  library(stringr)"
"0","  regex_pattern <-"
"0","    ""(?<=民國)[0-9]+(?=年)"""
"0","  year <-"
"0","    str_extract("
"0","      twDate,"
"0","      regex_pattern"
"0","    )"
"0","  westernYear <- as.integer(year) + 1911"
"0","  str_extract(twDate,"
"0","                   ""(?=年)[:graph:]+(日$)"") -> a"
"0","  library(glue)"
"0","  "
"0","  glue(""西元{westernYear}{a}"") -> westernDate"
"0","  library(lubridate)"
"0","  return(ymd(westernDate))"
"0","}"
"0","convert_twDate(""民國104年10月20日"")"
"1","[1]"
"1"," ""2015-10-20"""
"1","
"
"0","exists(""a"")"
"1","[1]"
"1"," FALSE"
"1","
"
